<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:adj="http://www.nrvr.com/2012/adj" xmlns:xlink="http://www.w3.org/1999/xlink" onload="Adj.doDoc();" width="635" height="799">
	<script type="text/javascript" xlink:href="js/adj.js"/>
	<title>Example Workflow</title>
	<!-- Illustration idea and first version - Leo Baschy <srguiwiz12 AT nrvr DOT com> -->
	<style type="text/css"><![CDATA[
	@font-face {
		font-family: Liberation Sans;
		src: local("Liberation Sans"), local("Liberation Sans Regular"), local("LiberationSans-Regular"),
			url(fonts/Liberation/LiberationSans-Regular.ttf);
		font-weight: normal;
		font-style: normal;
	}
	@font-face {
		font-family: Liberation Sans;
		src: local("Liberation Sans Bold"), local("LiberationSans-Bold"), url(fonts/Liberation/LiberationSans-Bold.ttf);
		font-weight: bold;
		font-style: normal;
	}
	svg {
		font-family: "Liberation Sans","Arial";
		font-size: 12px;
	}
	.subject {
		fill: lightgray;
		opacity: 0.5;
		stroke: gray;
	}
	.arrow {
		stroke: gray;
		fill: none;
	}
	a {
		fill: blue;
	}
	.workflow-user {
		font-weight: bolder;
	}
	.workflow-machine {
		fill: gray;
	}
	]]></style>
	<defs>
		<marker id="arrowhead" class="arrow" markerUnits="strokeWidth" orient="auto" viewBox="-4 -2 5 4" refX="0" refY="0" markerWidth="5" markerHeight="4" stroke-width="1" fill="none">
			<path d="M -3 1 L 0 0 L -3 -1"/>
		</marker>
	</defs>
	<g>
		<adj:verticalList gap="5" hAlign="center" vAlign="middle"/>
		<g transform="translate(38,5)">
			<adj:horizontalList gap="5" hAlign="center" vAlign="middle"/>
			<g transform="translate(5,233)">
				<rect width="20" height="50" fill="none"/>
			</g>
			<g adj:id="subject-author" transform="translate(30,203)">
				<adj:verticalList gap="10"/>
				<rect width="82" height="107" class="subject" x="1" y="1">
					<adj:frameForParent inset="1"/>
				</rect>
				<image xlink:href="adj-ex-041-author.png" width="64" height="64" transform="translate(10,10)"/>
				<text transform="translate(11,96)">author</text>
			</g>
			<g transform="translate(119,233)">
				<rect width="100" height="50" fill="none"/>
			</g>
			<g transform="translate(224,5)">
				<adj:verticalList gap="5" hAlign="center" vAlign="middle"/>
				<g adj:id="subject-editor" transform="translate(5,5)">
					<adj:verticalList gap="10"/>
					<rect width="318" height="263" class="subject" x="1" y="1">
						<adj:frameForParent inset="1"/>
					</rect>
					<image xlink:href="adj-ex-041-komodo.png" width="300" height="220" transform="translate(10,10)"/>
					<text transform="translate(12,252)">
						<a xlink:href="http://www.activestate.com/komodo-edit" style="fill:blue">XML editor</a>
					</text>
				</g>
				<g transform="translate(140,275)">
					<rect width="50" height="70" fill="none"/>
				</g>
				<g adj:id="subject-disk" transform="translate(141,350)">
					<adj:horizontalList gap="10"/>
					<rect width="46" height="33" class="subject" x="1" y="1">
						<adj:frameForParent inset="1"/>
					</rect>
					<text transform="translate(11,22)">disk</text>
				</g>
				<g transform="translate(140,390)">
					<rect width="50" height="110" fill="none"/>
				</g>
			</g>
		</g>
		<g adj:id="subject-firefox" transform="translate(5,525)">
			<adj:verticalList gap="10"/>
			<rect width="623" height="267" class="subject" x="1" y="1">
				<adj:frameForParent inset="1"/>
			</rect>
			<text transform="translate(11,22)">
				<a xlink:href="https://www.mozilla.org/firefox/#desktop" style="fill:blue">Firefox</a>
			</text>
			<g transform="translate(10,35)">
				<adj:horizontalList gap="5"/>
				<image xlink:href="adj-ex-041-firefox.png" width="290" height="214" transform="translate(5,5)"/>
				<g adj:id="add-on-auto-reload" transform="translate(300,5)">
					<adj:verticalList gap="5"/>
					<rect width="80" height="80" class="subject" x="1" y="1">
						<adj:frameForParent inset="1"/>
					</rect>
					<image xlink:href="adj-ex-041-add-on.png" width="32" height="32" transform="translate(5,5)"/>
					<text transform="translate(7,54)">Auto Reload</text>
					<text transform="translate(6,74)">
						<a xlink:href="https://addons.mozilla.org/en-US/firefox/addon/auto-reload/" style="fill:blue">add-on</a>
					</text>
				</g>
				<g adj:id="add-on-onload-script" transform="translate(387,5)">
					<adj:verticalList gap="5"/>
					<rect width="99" height="100" class="subject" x="1" y="1">
						<adj:frameForParent inset="1"/>
					</rect>
					<image xlink:href="adj-ex-041-add-on.png" width="32" height="32" transform="translate(5,5)"/>
					<text transform="translate(6,54)">Onload Script</text>
					<text transform="translate(6,74)">Document Files</text>
					<text transform="translate(6,94)">
						<a xlink:href="https://addons.mozilla.org/en-US/firefox/addon/onload-script-some-documents/" style="fill:blue">add-on</a>
					</text>
				</g>
				<g adj:id="add-on-save-back" transform="translate(493,5)">
					<adj:verticalList gap="5"/>
					<rect width="105" height="100" class="subject" x="1" y="1">
						<adj:frameForParent inset="1"/>
					</rect>
					<image xlink:href="adj-ex-041-add-on.png" width="32" height="32" transform="translate(5,5)"/>
					<text transform="translate(6,54)">Save Back to File</text>
					<text transform="translate(7,74)">from DOM</text>
					<text transform="translate(6,94)">
						<a xlink:href="https://addons.mozilla.org/en-US/firefox/addon/save-back-to-file-from-dom/" style="fill:blue">add-on</a>
					</text>
				</g>
			</g>
		</g>
	</g>
	<g>
		<adj:connection from="subject-editor # 0.2, 1.05" to="subject-disk # 0.1, -0.2"/>
		<path class="arrow" d="M331,293.25q32.26,37.768 76.8,59.75" stroke-width="3" marker-end="url(#arrowhead)" adj:d="M0,0 q50,10 100,0"/>
		<g class="workflow-machine" transform="translate(319.387,314.402)">
			<adj:rider at="0.3" pin="1,0"/>
			<adj:verticalList gap="1"/>
			<text transform="translate(2,13)">save</text>
		</g>
	</g>
	<g>
		<adj:connection from="subject-disk # 0.9, -0.2" to="subject-editor # 0.8, 1.05"/>
		<path class="arrow" d="M446.2,353q44.54,-21.982 76.8,-59.75" stroke-width="3" marker-end="url(#arrowhead)" adj:d="M0,0 q50,10 100,0"/>
		<g class="workflow-machine" transform="translate(502.606,314.395)">
			<adj:rider at="0.7" pin="0,0"/>
			<adj:verticalList gap="1"/>
			<text transform="translate(2,13)">optionally reload</text>
			<text transform="translate(2,29)">if changed</text>
			<text transform="translate(3,45)">from saving back</text>
		</g>
	</g>
	<g>
		<adj:connection from="subject-disk # 0.1, 1.2" to="subject-firefox # 0.3, 0.05"/>
		<path class="arrow" d="M407.8,402q-166.769,70.175 -215.3,136.45" stroke-width="3" marker-end="url(#arrowhead)" adj:d="M0,0 q70,30 100,0"/>
		<g class="workflow-machine" transform="translate(238.103,425.256)">
			<adj:rider at="0.5" pin="1,1"/>
			<adj:verticalList gap="1"/>
			<text transform="translate(3,13)">first time</text>
			<text transform="translate(2,29)">open</text>
		</g>
	</g>
	<g>
		<adj:connection from="subject-disk # 0.4, 1.2" to="add-on-auto-reload # 0.6, -0.1"/>
		<path class="arrow" d="M422.2,402q-10.271,84.417 -58,154.8" stroke-width="3" marker-end="url(#arrowhead)" adj:d="M0,0 q50,-20 100,0"/>
		<g class="workflow-machine" transform="translate(402.558,482.907)">
			<adj:rider at="0.5" pin="0,0"/>
			<adj:verticalList gap="1"/>
			<text transform="translate(2,13)">auto</text>
			<text transform="translate(2,29)">reload</text>
		</g>
	</g>
	<g>
		<adj:connection from="add-on-onload-script # 0.2, 1.05" to="add-on-onload-script # 0.8, 1.05"/>
		<path class="arrow" d="M422.2,672.1q30.3,50 60.6,0" stroke-width="3" marker-end="url(#arrowhead)" adj:d="M0,0 q50,50 100,0"/>
		<g class="workflow-machine" transform="translate(410.496,697.098)">
			<adj:rider at="0.5" pin="0.5,0"/>
			<adj:verticalList gap="1"/>
			<text transform="translate(2,13)">on load</text>
			<text transform="translate(2,29)">run command</text>
			<text transform="translate(3,45)">Adj.doDoc();</text>
			<text transform="translate(2,61)">as defined in</text>
			<text transform="translate(2,77)">script adj.js</text>
		</g>
	</g>
	<g>
		<adj:connection from="add-on-save-back # 0.6, -0.05" to="subject-disk # 0.8, 1.2"/>
		<path class="arrow" d="M572.2,559.9q-16.137,-66.508 -130.8,-157.9" stroke-width="3" marker-end="url(#arrowhead)" adj:d="M0,0 q30,30 100,0"/>
		<g class="workflow-machine" transform="translate(546.6,455.285)">
			<adj:rider at="0.3" pin="-0.05,1"/>
			<adj:verticalList gap="1"/>
			<text transform="translate(2,13)">can</text>
			<text transform="translate(2,29)">save</text>
			<text transform="translate(2,45)">back</text>
		</g>
	</g>
	<g>
		<adj:connection from="subject-author # 0.9, -0.1" to="subject-editor # -0.07, 0.4"/>
		<path class="arrow" d="M143.6,197.1q38.465,-54.023 101,-76.1" stroke-width="3" marker-end="url(#arrowhead)" adj:d="M0,0 q50,-20 100,0"/>
		<g class="workflow-user" transform="translate(107.022,106.024)">
			<adj:rider at="0.45" pin="1,1"/>
			<adj:verticalList gap="1"/>
			<text transform="translate(3,13)">edits,</text>
			<text transform="translate(3,29)">Ctrl-S saves</text>
			<text transform="translate(3,45)">repeatedly</text>
		</g>
	</g>
	<g>
		<adj:connection from="subject-author # 0.7, 1.1" to="subject-firefox # 0.1, -0.03"/>
		<path class="arrow" d="M126.8,327.9q-55.822,127.831 -59.3,189.03" stroke-width="3" marker-end="url(#arrowhead)" adj:d="M0,0 q70,15 100,0"/>
		<g class="workflow-user" transform="translate(25.517,345.988)">
			<adj:rider at="0.45" pin="0.9,1"/>
			<adj:verticalList gap="1"/>
			<text transform="translate(3,13)">opens once,</text>
			<text transform="translate(3,29)">sees</text>
			<text transform="translate(3,45)">automatic</text>
			<text transform="translate(3,61)">updates</text>
		</g>
	</g>
</svg>
